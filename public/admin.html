<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Admin Dashboard - ConnectSpace</title>
    <link rel="stylesheet" href="ultimate-responsive-system.css">
    <link rel="stylesheet" href="modern-admin.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="config.js"></script>
</head>
<body class="admin-body">
    <!-- Modern Admin Header -->
    <header class="admin-header">
        <div class="admin-header-left">
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
            <div class="admin-logo">
                <i class="fas fa-shield-halved"></i>
                <span>ConnectSpace Admin</span>
            </div>
        </div>
        <div class="admin-header-right">
            <div class="header-stats">
                <div class="quick-stat">
                    <i class="fas fa-users text-primary"></i>
                    <span id="headerUsersCount">0</span>
                    <small>Users</small>
                </div>
                <div class="quick-stat">
                    <i class="fas fa-building text-secondary"></i>
                    <span id="headerPropertiesCount">0</span>
                    <small>Properties</small>
                </div>
            </div>
            <div class="admin-profile">
                <div class="profile-avatar">
                    <i class="fas fa-user-shield"></i>
                </div>
                <div class="profile-info">
                    <span class="profile-name">Admin</span>
                    <span class="profile-role">Administrator</span>
                </div>
                <button class="logout-btn" onclick="adminLogout()" title="Logout">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </header>

    <div class="admin-layout">
        <!-- Modern Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h4>Overview</h4>
                    <a href="#dashboard" class="nav-item active" onclick="showSection('dashboard')" data-section="dashboard">
                        <i class="fas fa-chart-line"></i>
                        <span>Dashboard</span>
                        <div class="nav-indicator"></div>
                    </a>
                    <a href="#analytics" class="nav-item" onclick="showSection('analytics')" data-section="analytics">
                        <i class="fas fa-chart-pie"></i>
                        <span>Analytics</span>
                        <div class="nav-indicator"></div>
                    </a>
                </div>

                <div class="nav-section">
                    <h4>Management</h4>
                    <a href="#users" class="nav-item" onclick="showSection('users')" data-section="users">
                        <i class="fas fa-users"></i>
                        <span>Users</span>
                        <div class="nav-badge" id="pendingUsersBadge">0</div>
                        <div class="nav-indicator"></div>
                    </a>
                    <a href="#properties" class="nav-item" onclick="showSection('properties')" data-section="properties">
                        <i class="fas fa-building"></i>
                        <span>Properties</span>
                        <div class="nav-badge" id="pendingPropertiesBadge">0</div>
                        <div class="nav-indicator"></div>
                    </a>
                    <a href="#inquiries" class="nav-item" onclick="showSection('inquiries')" data-section="inquiries">
                        <i class="fas fa-envelope"></i>
                        <span>Inquiries</span>
                        <div class="nav-badge" id="newInquiriesBadge">0</div>
                        <div class="nav-indicator"></div>
                    </a>
                    <a href="#verifications" class="nav-item" onclick="showSection('verifications')" data-section="verifications">
                        <i class="fas fa-certificate"></i>
                        <span>Verifications</span>
                        <div class="nav-badge" id="pendingVerificationsBadge">0</div>
                        <div class="nav-indicator"></div>
                    </a>
                </div>

                <div class="nav-section">
                    <h4>System</h4>
                    <a href="#settings" class="nav-item" onclick="showSection('settings')" data-section="settings">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                        <div class="nav-indicator"></div>
                    </a>
                    <a href="#reports" class="nav-item" onclick="showSection('reports')" data-section="reports">
                        <i class="fas fa-file-alt"></i>
                        <span>Reports</span>
                        <div class="nav-indicator"></div>
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="admin-main">
            <!-- Dashboard Section -->
            <section id="dashboard" class="admin-section active">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Dashboard</h1>
                        <p>Monitor your ConnectSpace platform performance</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-outline" onclick="refreshDashboard()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                        <button class="btn btn-primary" onclick="downloadReport()">
                            <i class="fas fa-download"></i>
                            Export Report
                        </button>
                    </div>
                </div>

                <!-- Stats Overview -->
                <div class="stats-overview">
                    <div class="stat-card highlight">
                        <div class="stat-header">
                            <div class="stat-icon primary">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+12%</span>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalUsers">0</h3>
                            <p>Total Users</p>
                            <small>+24 this week</small>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon secondary">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="stat-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+8%</span>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalProperties">0</h3>
                            <p>Total Properties</p>
                            <small>+5 this week</small>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon accent">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="stat-trend neutral">
                                <i class="fas fa-minus"></i>
                                <span>0%</span>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalInquiries">0</h3>
                            <p>Total Inquiries</p>
                            <small>No change</small>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon success">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+15%</span>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="verifiedUsers">0</h3>
                            <p>Verified Users</p>
                            <small>+18 this week</small>
                        </div>
                    </div>
                </div>

                <!-- Dashboard Grid -->
                <div class="dashboard-grid">
                    <!-- Recent Activity -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Recent Activity</h3>
                            <button class="btn btn-sm btn-ghost" onclick="viewAllActivity()">
                                View All
                            </button>
                        </div>
                        <div class="card-content">
                            <div id="activityList" class="activity-feed">
                                <!-- Activity items will be loaded here -->
                                <div class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-user-plus text-primary"></i>
                                    </div>
                                    <div class="activity-content">
                                        <p>New user registration</p>
                                        <small>2 minutes ago</small>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-home text-secondary"></i>
                                    </div>
                                    <div class="activity-content">
                                        <p>Property listing updated</p>
                                        <small>15 minutes ago</small>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <div class="activity-icon">
                                        <i class="fas fa-check text-success"></i>
                                    </div>
                                    <div class="activity-content">
                                        <p>User verification approved</p>
                                        <small>1 hour ago</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3>Quick Actions</h3>
                        </div>
                        <div class="card-content">
                            <div class="quick-actions">
                                <button class="quick-action-btn" onclick="showSection('users')">
                                    <i class="fas fa-user-plus"></i>
                                    <span>Manage Users</span>
                                </button>
                                <button class="quick-action-btn" onclick="showSection('verifications')">
                                    <i class="fas fa-certificate"></i>
                                    <span>Pending Verifications</span>
                                </button>
                                <button class="quick-action-btn" onclick="showSection('properties')">
                                    <i class="fas fa-building"></i>
                                    <span>Review Properties</span>
                                </button>
                                <button class="quick-action-btn" onclick="showSection('settings')">
                                    <i class="fas fa-cog"></i>
                                    <span>Platform Settings</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- System Status -->
                    <div class="dashboard-card full-width">
                        <div class="card-header">
                            <h3>System Status</h3>
                            <div class="status-indicator online">
                                <div class="status-dot"></div>
                                <span>All Systems Operational</span>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="system-metrics">
                                <div class="metric">
                                    <div class="metric-label">Server Response Time</div>
                                    <div class="metric-value">120ms</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill" style="width: 25%"></div>
                                    </div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Database Performance</div>
                                    <div class="metric-value">98%</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill success" style="width: 98%"></div>
                                    </div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Storage Usage</div>
                                    <div class="metric-value">67%</div>
                                    <div class="metric-bar">
                                        <div class="metric-fill warning" style="width: 67%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Analytics</h1>
                        <p>Detailed insights and performance metrics</p>
                    </div>
                    <div class="header-actions">
                        <select class="form-select" id="analyticsTimeframe">
                            <option value="7">Last 7 days</option>
                            <option value="30" selected>Last 30 days</option>
                            <option value="90">Last 3 months</option>
                            <option value="365">Last year</option>
                        </select>
                    </div>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>User Growth</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-line"></i>
                            <p>Chart will be rendered here</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Property Performance</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-bar"></i>
                            <p>Chart will be rendered here</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Users Section -->
            <section id="users" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>User Management</h1>
                        <p>Manage all platform users and their permissions</p>
                    </div>
                    <div class="header-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search users..." id="userSearch">
                        </div>
                        <select class="form-select" id="userFilter">
                            <option value="all">All Users</option>
                            <option value="tenant">Tenants</option>
                            <option value="landlord">Landlords</option>
                            <option value="verified">Verified</option>
                            <option value="unverified">Unverified</option>
                        </select>
                        <button class="btn btn-primary" onclick="refreshUsers()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table class="modern-table" id="usersTable">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Type</th>
                                <th>Status</th>
                                <th>Joined</th>
                                <th>Properties</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Properties Section -->
            <section id="properties" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Property Management</h1>
                        <p>Review and manage all property listings</p>
                    </div>
                    <div class="header-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Search properties..." id="propertySearch">
                        </div>
                        <select class="form-select" id="propertyFilter">
                            <option value="all">All Properties</option>
                            <option value="active">Active</option>
                            <option value="pending">Pending Review</option>
                            <option value="suspended">Suspended</option>
                        </select>
                        <button class="btn btn-primary" onclick="refreshProperties()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <table class="modern-table" id="propertiesTable">
                        <thead>
                            <tr>
                                <th>Property</th>
                                <th>Location</th>
                                <th>Type</th>
                                <th>Rent</th>
                                <th>Owner</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="propertiesTableBody">
                            <!-- Properties will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Inquiries Section -->
            <section id="inquiries" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Inquiry Management</h1>
                        <p>Review and respond to user inquiries</p>
                    </div>
                    <div class="header-actions">
                        <select class="form-select" id="inquiryFilter">
                            <option value="all">All Inquiries</option>
                            <option value="new">New</option>
                            <option value="in-progress">In Progress</option>
                            <option value="resolved">Resolved</option>
                        </select>
                        <button class="btn btn-primary" onclick="refreshInquiries()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                    </div>
                </div>
                
                <div id="inquiriesList" class="inquiries-grid">
                    <!-- Inquiries will be loaded here -->
                </div>
            </section>

            <!-- Verifications Section -->
            <section id="verifications" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Verification Requests</h1>
                        <p>Review and approve user verification requests</p>
                    </div>
                    <div class="header-actions">
                        <select class="form-select" id="verificationFilter">
                            <option value="pending">Pending</option>
                            <option value="all">All Requests</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                        <button class="btn btn-primary" onclick="refreshVerifications()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                    </div>
                </div>
                
                <div id="verificationsList" class="verifications-grid">
                    <!-- Verifications will be loaded here -->
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Platform Settings</h1>
                        <p>Configure platform settings and preferences</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">
                            <i class="fas fa-save"></i>
                            Save Changes
                        </button>
                    </div>
                </div>

                <div class="settings-grid">
                    <!-- General Settings -->
                    <div class="settings-card">
                        <div class="card-header">
                            <h3>General Settings</h3>
                            <p>Basic platform configuration</p>
                        </div>
                        <div class="card-content">
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Platform Status</h4>
                                    <p>Enable or disable the platform</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="platformActive" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>New Registrations</h4>
                                    <p>Allow new user registrations</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="allowRegistrations" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Maintenance Mode</h4>
                                    <p>Put platform in maintenance mode</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="maintenanceMode">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Security Settings -->
                    <div class="settings-card">
                        <div class="card-header">
                            <h3>Security Settings</h3>
                            <p>Platform security configuration</p>
                        </div>
                        <div class="card-content">
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Email Verification Required</h4>
                                    <p>Require email verification for new users</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="emailVerificationRequired" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Auto-approve Properties</h4>
                                    <p>Automatically approve new property listings</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="autoApproveProperties">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="settings-card">
                        <div class="card-header">
                            <h3>Notifications</h3>
                            <p>Configure admin notifications</p>
                        </div>
                        <div class="card-content">
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>New User Notifications</h4>
                                    <p>Get notified when new users register</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="newUserNotifications" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>

                            <div class="setting-item">
                                <div class="setting-info">
                                    <h4>Property Submission Notifications</h4>
                                    <p>Get notified when properties are submitted</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="propertyNotifications" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- System Information -->
                    <div class="settings-card full-width">
                        <div class="card-header">
                            <h3>System Information</h3>
                            <p>Platform version and system details</p>
                        </div>
                        <div class="card-content">
                            <div class="system-info">
                                <div class="info-item">
                                    <label>Platform Version</label>
                                    <value>v2.1.0</value>
                                </div>
                                <div class="info-item">
                                    <label>Last Updated</label>
                                    <value>March 15, 2024</value>
                                </div>
                                <div class="info-item">
                                    <label>Server Status</label>
                                    <value class="status-online">Online</value>
                                </div>
                                <div class="info-item">
                                    <label>Database Status</label>
                                    <value class="status-online">Connected</value>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="admin-section">
                <div class="section-header">
                    <div class="header-content">
                        <h1>Reports</h1>
                        <p>Generate and download platform reports</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="generateReport()">
                            <i class="fas fa-plus"></i>
                            Generate Report
                        </button>
                    </div>
                </div>

                <div class="reports-grid">
                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="report-content">
                            <h3>User Analytics Report</h3>
                            <p>Comprehensive user statistics and behavior analysis</p>
                            <button class="btn btn-outline btn-sm" onclick="downloadUserReport()">
                                <i class="fas fa-download"></i>
                                Download
                            </button>
                        </div>
                    </div>

                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="report-content">
                            <h3>Property Performance Report</h3>
                            <p>Property listing performance and engagement metrics</p>
                            <button class="btn btn-outline btn-sm" onclick="downloadPropertyReport()">
                                <i class="fas fa-download"></i>
                                Download
                            </button>
                        </div>
                    </div>

                    <div class="report-card">
                        <div class="report-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="report-content">
                            <h3>Platform Analytics Report</h3>
                            <p>Overall platform performance and growth metrics</p>
                            <button class="btn btn-outline btn-sm" onclick="downloadAnalyticsReport()">
                                <i class="fas fa-download"></i>
                                Download
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modern Admin Scripts -->
    <script src="ultimate-mobile-handler.js" defer></script>
    <script src="modern-admin.js"></script>
</body>
</html>