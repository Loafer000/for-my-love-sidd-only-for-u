{"ast":null,"code":"import _objectSpread from\"D:/connectspace/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import*as yup from'yup';import toast from'react-hot-toast';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const loginSchema=yup.object({email:yup.string().email('Invalid email').required('Email is required'),password:yup.string().required('Password is required').min(6,'Password must be at least 6 characters')});const signupSchema=yup.object({firstName:yup.string().required('First name is required').min(2,'First name must be at least 2 characters'),lastName:yup.string().required('Last name is required').min(2,'Last name must be at least 2 characters'),email:yup.string().email('Invalid email').required('Email is required'),password:yup.string().required('Password is required').min(8,'Password must be at least 8 characters').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/,'Password must contain uppercase, lowercase and number'),confirmPassword:yup.string().required('Please confirm your password').oneOf([yup.ref('password')],'Passwords must match'),userType:yup.string().required('Please select what you are looking for'),terms:yup.boolean().oneOf([true],'You must accept the terms and conditions')});const AuthModal=_ref=>{let{isOpen,onClose,initialMode='login',onSuccess}=_ref;const[mode,setMode]=useState(initialMode);const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[phoneLoginStep,setPhoneLoginStep]=useState('phone');// 'phone' or 'otp'\nconst[phoneNumber,setPhoneNumber]=useState('');const[otp,setOtp]=useState('');const[otpTimer,setOtpTimer]=useState(0);const{login}=useAuth();const loginForm=useForm({resolver:yupResolver(loginSchema),defaultValues:{email:'',password:''}});const signupForm=useForm({resolver:yupResolver(signupSchema),defaultValues:{firstName:'',lastName:'',email:'',password:'',confirmPassword:'',userType:'',terms:false}});// Sync mode with initialMode when modal opens or initialMode changes\nuseEffect(()=>{if(isOpen){setMode(initialMode);setPhoneLoginStep('phone');setPhoneNumber('');setOtp('');setOtpTimer(0);// Reset forms when modal opens\nloginForm.reset();signupForm.reset();}// ESLint disable for form dependencies to prevent infinite loop\n// eslint-disable-next-line react-hooks/exhaustive-deps\n},[isOpen,initialMode]);// OTP Timer countdown\nuseEffect(()=>{let interval;if(otpTimer>0){interval=setInterval(()=>{setOtpTimer(prev=>prev-1);},1000);}return()=>clearInterval(interval);},[otpTimer]);const onLoginSubmit=async data=>{try{// Import the API service\nconst{authAPI}=await import('../../services/api');// Call real API\nconst response=await authAPI.login(data);if(response.success){const user={id:response.data.user._id||response.data.user.id,name:response.data.user.firstName+' '+response.data.user.lastName,firstName:response.data.user.firstName,lastName:response.data.user.lastName,email:response.data.user.email,userType:response.data.user.userType,avatar:response.data.user.avatar};login(user,response.data.tokens.accessToken);toast.success('Welcome back! 👋');onClose();loginForm.reset();// Call success callback if provided\nif(onSuccess){onSuccess();}}else{// Stay on login page, just show error\ntoast.error(response.message||'Invalid credentials');}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error('Login error:',error);// Stay on login page, show specific error message\nlet errorMessage='Invalid email or password';if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){errorMessage='Invalid email or password. Please try again.';}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===429){errorMessage='Too many login attempts. Please try again later.';}else if((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.message){errorMessage=error.response.data.message;}toast.error(errorMessage);// Don't close modal, don't switch modes - stay on login page\n}};const onSignupSubmit=async data=>{try{// Import the API service\nconst{authAPI}=await import('../../services/api');// Prepare registration data with proper fields\nconst registrationData={firstName:data.firstName,lastName:data.lastName,email:data.email,password:data.password,userType:data.userType};// Call real API\nconst response=await authAPI.register(registrationData);if(response.success){const user={id:response.data.user._id||response.data.user.id,name:response.data.user.firstName+' '+response.data.user.lastName,firstName:response.data.user.firstName,lastName:response.data.user.lastName,email:response.data.user.email,userType:response.data.user.userType,avatar:response.data.user.avatar};login(user,response.data.tokens.accessToken);toast.success('Welcome to ConnectSpace! 🎉');onClose();signupForm.reset();// Call success callback if provided\nif(onSuccess){onSuccess();}}else{toast.error(response.message||'Registration failed');}}catch(error){var _error$response4,_error$response5,_error$response5$data;console.error('Registration error:',error);// Handle specific error cases\nif(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===409){const errorData=error.response.data;if(errorData.action==='LOGIN_INSTEAD'){toast.error('Account already exists! Please sign in instead.');// Switch to login mode\nsetTimeout(()=>{setMode('login');// Pre-fill email\nloginForm.setValue('email',data.email);},1500);return;}}const errorMessage=((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Registration failed. Please try again.';toast.error(errorMessage);}};const switchMode=newMode=>{setMode(newMode);loginForm.reset();signupForm.reset();setPhoneLoginStep('phone');setPhoneNumber('');setOtp('');setOtpTimer(0);};const handleSendOtp=async()=>{if(!phoneNumber||phoneNumber.length<10){toast.error('Please enter a valid phone number');return;}try{// Import the API service\nconst{authAPI}=await import('../../services/api');// Format phone number for Indian mobile numbers\nconst formattedPhone=phoneNumber.startsWith('+91')?phoneNumber:\"+91\".concat(phoneNumber);// Call real API to send OTP\nconst response=await authAPI.sendOTP(formattedPhone);if(response.success){toast.success('OTP sent successfully!');setPhoneLoginStep('otp');setOtpTimer(60);// 60 seconds countdown\n}else{toast.error(response.message||'Failed to send OTP');}}catch(error){var _error$response6,_error$response6$data;console.error('OTP send error:',error);const errorMessage=((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'Failed to send OTP. Please try again.';toast.error(errorMessage);}};const handleVerifyOtp=async()=>{if(!otp||otp.length!==6){toast.error('Please enter a valid 6-digit OTP');return;}try{// Import the API service\nconst{authAPI}=await import('../../services/api');// Format phone number for Indian mobile numbers\nconst formattedPhone=phoneNumber.startsWith('+91')?phoneNumber:\"+91\".concat(phoneNumber);// Call real API to verify OTP\nconst response=await authAPI.verifyOTP(formattedPhone,otp);if(response.success){const user={id:response.data.user._id||response.data.user.id,name:response.data.user.firstName+' '+response.data.user.lastName,firstName:response.data.user.firstName,lastName:response.data.user.lastName,email:response.data.user.email,phone:response.data.user.phone,userType:response.data.user.userType,avatar:response.data.user.avatar};login(user,response.data.tokens.accessToken);toast.success('Login successful!');onClose();// Reset phone login state\nsetPhoneLoginStep('phone');setPhoneNumber('');setOtp('');setOtpTimer(0);// Call success callback if provided\nif(onSuccess){onSuccess();}}else{toast.error(response.message||'Invalid OTP');}}catch(error){var _error$response7,_error$response7$data;console.error('OTP verify error:',error);const errorMessage=((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.message)||'Invalid OTP. Please try again.';toast.error(errorMessage);}};const handleResendOtp=async()=>{if(otpTimer>0)return;try{// Import the API service\nconst{authAPI}=await import('../../services/api');// Format phone number for Indian mobile numbers\nconst formattedPhone=phoneNumber.startsWith('+91')?phoneNumber:\"+91\".concat(phoneNumber);// Call real API to resend OTP\nconst response=await authAPI.sendOTP(formattedPhone);if(response.success){toast.success('OTP resent successfully!');setOtpTimer(60);}else{toast.error(response.message||'Failed to resend OTP');}}catch(error){var _error$response8,_error$response8$data;console.error('OTP resend error:',error);const errorMessage=((_error$response8=error.response)===null||_error$response8===void 0?void 0:(_error$response8$data=_error$response8.data)===null||_error$response8$data===void 0?void 0:_error$response8$data.message)||'Failed to resend OTP. Please try again.';toast.error(errorMessage);}};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center p-4 pt-20\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl w-full max-w-lg relative max-h-[80vh] overflow-y-auto\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-6 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-900\",children:mode==='login'?'Sign In':mode==='phone'?'Phone Login':'Create Account'}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-400 hover:text-gray-600 text-xl font-bold\",\"aria-label\":\"Close modal\",children:\"\\xD7\"})]}),(mode==='login'||mode==='phone')&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>switchMode('login'),className:\"flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors \".concat(mode==='login'?'border-primary-500 text-primary-600 bg-primary-50':'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50'),children:\"Email Login\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>switchMode('phone'),className:\"flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors \".concat(mode==='phone'?'border-primary-500 text-primary-600 bg-primary-50':'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50'),children:\"Phone Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[mode==='login'&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginForm.handleSubmit(onLoginSubmit),className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},loginForm.register('email')),{},{type:\"email\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"your.email@example.com\"})),loginForm.formState.errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:loginForm.formState.errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},loginForm.register('password')),{},{type:showPassword?'text':'password',className:\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"Enter your password\",style:{WebkitAppearance:'none',MozAppearance:'none',msRevealButton:'none'}})),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\",children:showPassword?/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\"})})})]}),loginForm.formState.errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:loginForm.formState.errors.password.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loginForm.formState.isSubmitting,className:\"btn btn-primary w-full\",children:loginForm.formState.isSubmitting?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner mr-2\"}),\"Signing In...\"]}):'Sign In'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full border-t border-gray-300\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-center text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 bg-white text-gray-500\",children:\"Or continue with\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{toast.success('Google login coming soon!');},className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Google\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{toast.success('Facebook login coming soon!');},className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"#1877F2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Facebook\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{toast.success('Apple login coming soon!');},className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Apple\"})]})]})]})]}),mode==='phone'&&/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:phoneLoginStep==='phone'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Phone Number\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"+91\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:phoneNumber,onChange:e=>setPhoneNumber(e.target.value.replace(/\\D/g,'').slice(0,10)),className:\"w-full pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"9876543210\",maxLength:\"10\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"We'll send you a 6-digit verification code\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendOtp,disabled:!phoneNumber||phoneNumber.length!==10,className:\"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Send OTP\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Enter OTP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:otp,onChange:e=>setOtp(e.target.value.replace(/\\D/g,'').slice(0,6)),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white text-center text-lg tracking-widest\",placeholder:\"000000\",maxLength:\"6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"OTP sent to +91 \",phoneNumber]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPhoneLoginStep('phone'),className:\"text-primary-600 hover:text-primary-700 font-medium\",children:\"Change\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVerifyOtp,disabled:!otp||otp.length!==6,className:\"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Verify OTP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:otpTimer>0?/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Resend OTP in \",otpTimer,\" seconds\"]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleResendOtp,className:\"text-sm text-primary-600 hover:text-primary-700 font-medium\",children:\"Resend OTP\"})})]})}),mode==='signup'&&/*#__PURE__*/_jsxs(\"form\",{className:\"space-y-5\",onSubmit:signupForm.handleSubmit(onSignupSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('firstName')),{},{type:\"text\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"John\"})),signupForm.formState.errors.firstName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-red-600\",children:signupForm.formState.errors.firstName.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('lastName')),{},{type:\"text\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"Doe\"})),signupForm.formState.errors.lastName&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-red-600\",children:signupForm.formState.errors.lastName.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('email')),{},{type:\"email\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"your.email@example.com\"})),signupForm.formState.errors.email&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:signupForm.formState.errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Create Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('password')),{},{type:showPassword?'text':'password',className:\"w-full px-3 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"Must be 8+ characters with uppercase, lowercase & number\",style:{WebkitAppearance:'none',MozAppearance:'none',msRevealButton:'none'}})),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\",children:showPassword?/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\"})})})]}),signupForm.formState.errors.password&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:signupForm.formState.errors.password.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('confirmPassword')),{},{type:showConfirmPassword?'text':'password',className:\"w-full px-3 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\",placeholder:\"Re-enter your password\",style:{WebkitAppearance:'none',MozAppearance:'none',msRevealButton:'none'}})),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowConfirmPassword(!showConfirmPassword),className:\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\",children:showConfirmPassword?/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 616 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"})]}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\"})})})]}),signupForm.formState.errors.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:signupForm.formState.errors.confirmPassword.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-3\",children:\"I am a...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"relative flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-primary-500 transition-colors \".concat(signupForm.watch('userType')==='tenant'?'border-primary-500 bg-primary-50':'border-gray-300'),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('userType')),{},{type:\"radio\",value:\"tenant\",className:\"sr-only\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg mb-1\",children:\"\\uD83C\\uDFE0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Tenant\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Looking to rent\"})]}),signupForm.watch('userType')==='tenant'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2 w-4 h-4 bg-primary-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 bg-white rounded-full\"})})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-primary-500 transition-colors \".concat(signupForm.watch('userType')==='landlord'?'border-primary-500 bg-primary-50':'border-gray-300'),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('userType')),{},{type:\"radio\",value:\"landlord\",className:\"sr-only\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg mb-1\",children:\"\\uD83C\\uDFE2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Owner\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Property owner\"})]}),signupForm.watch('userType')==='landlord'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2 w-4 h-4 bg-primary-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 bg-white rounded-full\"})})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"relative flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-primary-500 transition-colors \".concat(signupForm.watch('userType')==='agent'?'border-primary-500 bg-primary-50':'border-gray-300'),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('userType')),{},{type:\"radio\",value:\"agent\",className:\"sr-only\"})),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg mb-1\",children:\"\\uD83E\\uDD1D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:\"Agent\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Real estate agent\"})]}),signupForm.watch('userType')==='agent'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2 right-2 w-4 h-4 bg-primary-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-1.5 h-1.5 bg-white rounded-full\"})})]})]}),signupForm.formState.errors.userType&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:signupForm.formState.errors.userType.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},signupForm.register('terms')),{},{type:\"checkbox\",className:\"mt-1 mr-3 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"})),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"I agree to ConnectSpace's\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-primary-600 hover:text-primary-700 underline\",onClick:e=>e.preventDefault(),children:\"Terms of Service\"}),' ',\"and\",' ',/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-primary-600 hover:text-primary-700 underline\",onClick:e=>e.preventDefault(),children:\"Privacy Policy\"})]})]}),signupForm.formState.errors.terms&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:signupForm.formState.errors.terms.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:signupForm.formState.isSubmitting,className:\"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-semibold py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition duration-200\",children:signupForm.formState.isSubmitting?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3\"}),\"Creating your account...\"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Create Account\"}),/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 ml-2\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7l5 5m0 0l-5 5m5-5H6\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full border-t border-gray-300\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative flex justify-center text-sm\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 bg-white text-gray-500\",children:\"Or sign up with\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 grid grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{toast.success('Google signup coming soon!');},className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Google\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{toast.success('Facebook signup coming soon!');},className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"#1877F2\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Facebook\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{toast.success('Apple signup coming soon!');},className:\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"Apple\"})]})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 bg-gray-50 border-t\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm\",children:mode==='login'||mode==='phone'?/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>switchMode('signup'),className:\"text-primary-600 hover:text-primary-700 font-medium\",children:\"Sign up\"})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>switchMode('login'),className:\"text-primary-600 hover:text-primary-700 font-medium\",children:\"Sign in\"})]})})})]})});};export default AuthModal;","map":{"version":3,"names":["React","useState","useEffect","useForm","yupResolver","yup","toast","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","loginSchema","object","email","string","required","password","min","signupSchema","firstName","lastName","matches","confirmPassword","oneOf","ref","userType","terms","boolean","AuthModal","_ref","isOpen","onClose","initialMode","onSuccess","mode","setMode","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","phoneLoginStep","setPhoneLoginStep","phoneNumber","setPhoneNumber","otp","setOtp","otpTimer","setOtpTimer","login","loginForm","resolver","defaultValues","signupForm","reset","interval","setInterval","prev","clearInterval","onLoginSubmit","data","authAPI","response","success","user","id","_id","name","avatar","tokens","accessToken","error","message","_error$response","_error$response2","_error$response3","_error$response3$data","console","errorMessage","status","onSignupSubmit","registrationData","register","_error$response4","_error$response5","_error$response5$data","errorData","action","setTimeout","setValue","switchMode","newMode","handleSendOtp","length","formattedPhone","startsWith","concat","sendOTP","_error$response6","_error$response6$data","handleVerifyOtp","verifyOTP","phone","_error$response7","_error$response7$data","handleResendOtp","_error$response8","_error$response8$data","className","onClick","children","e","stopPropagation","onSubmit","handleSubmit","_objectSpread","type","placeholder","formState","errors","style","WebkitAppearance","MozAppearance","msRevealButton","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","isSubmitting","value","onChange","target","replace","slice","maxLength","watch","href","preventDefault"],"sources":["D:/connectspace/frontend/src/components/Auth/AuthModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport toast from 'react-hot-toast';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst loginSchema = yup.object({\r\n  email: yup.string().email('Invalid email').required('Email is required'),\r\n  password: yup.string().required('Password is required').min(6, 'Password must be at least 6 characters'),\r\n});\r\n\r\nconst signupSchema = yup.object({\r\n  firstName: yup.string().required('First name is required').min(2, 'First name must be at least 2 characters'),\r\n  lastName: yup.string().required('Last name is required').min(2, 'Last name must be at least 2 characters'),\r\n  email: yup.string().email('Invalid email').required('Email is required'),\r\n  password: yup.string()\r\n    .required('Password is required')\r\n    .min(8, 'Password must be at least 8 characters')\r\n    .matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/, 'Password must contain uppercase, lowercase and number'),\r\n  confirmPassword: yup.string()\r\n    .required('Please confirm your password')\r\n    .oneOf([yup.ref('password')], 'Passwords must match'),\r\n  userType: yup.string().required('Please select what you are looking for'),\r\n  terms: yup.boolean().oneOf([true], 'You must accept the terms and conditions')\r\n});\r\n\r\nconst AuthModal = ({ isOpen, onClose, initialMode = 'login', onSuccess }) => {\r\n  const [mode, setMode] = useState(initialMode);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [phoneLoginStep, setPhoneLoginStep] = useState('phone'); // 'phone' or 'otp'\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [otp, setOtp] = useState('');\r\n  const [otpTimer, setOtpTimer] = useState(0);\r\n  const { login } = useAuth();\r\n\r\n  const loginForm = useForm({\r\n    resolver: yupResolver(loginSchema),\r\n    defaultValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n  });\r\n\r\n  const signupForm = useForm({\r\n    resolver: yupResolver(signupSchema),\r\n    defaultValues: {\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      userType: '',\r\n      terms: false,\r\n    },\r\n  });\r\n\r\n  // Sync mode with initialMode when modal opens or initialMode changes\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setMode(initialMode);\r\n      setPhoneLoginStep('phone');\r\n      setPhoneNumber('');\r\n      setOtp('');\r\n      setOtpTimer(0);\r\n      // Reset forms when modal opens\r\n      loginForm.reset();\r\n      signupForm.reset();\r\n    }\r\n    // ESLint disable for form dependencies to prevent infinite loop\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isOpen, initialMode]);\r\n\r\n  // OTP Timer countdown\r\n  useEffect(() => {\r\n    let interval;\r\n    if (otpTimer > 0) {\r\n      interval = setInterval(() => {\r\n        setOtpTimer(prev => prev - 1);\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [otpTimer]);\r\n\r\n  const onLoginSubmit = async (data) => {\r\n    try {\r\n      // Import the API service\r\n      const { authAPI } = await import('../../services/api');\r\n      \r\n      // Call real API\r\n      const response = await authAPI.login(data);\r\n      \r\n      if (response.success) {\r\n        const user = {\r\n          id: response.data.user._id || response.data.user.id,\r\n          name: response.data.user.firstName + ' ' + response.data.user.lastName,\r\n          firstName: response.data.user.firstName,\r\n          lastName: response.data.user.lastName,\r\n          email: response.data.user.email,\r\n          userType: response.data.user.userType,\r\n          avatar: response.data.user.avatar,\r\n        };\r\n        \r\n        login(user, response.data.tokens.accessToken);\r\n        toast.success('Welcome back! 👋');\r\n        onClose();\r\n        loginForm.reset();\r\n        \r\n        // Call success callback if provided\r\n        if (onSuccess) {\r\n          onSuccess();\r\n        }\r\n      } else {\r\n        // Stay on login page, just show error\r\n        toast.error(response.message || 'Invalid credentials');\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      // Stay on login page, show specific error message\r\n      let errorMessage = 'Invalid email or password';\r\n      \r\n      if (error.response?.status === 401) {\r\n        errorMessage = 'Invalid email or password. Please try again.';\r\n      } else if (error.response?.status === 429) {\r\n        errorMessage = 'Too many login attempts. Please try again later.';\r\n      } else if (error.response?.data?.message) {\r\n        errorMessage = error.response.data.message;\r\n      }\r\n      \r\n      toast.error(errorMessage);\r\n      // Don't close modal, don't switch modes - stay on login page\r\n    }\r\n  };\r\n\r\n  const onSignupSubmit = async (data) => {\r\n    try {\r\n      // Import the API service\r\n      const { authAPI } = await import('../../services/api');\r\n      \r\n      // Prepare registration data with proper fields\r\n      const registrationData = {\r\n        firstName: data.firstName,\r\n        lastName: data.lastName,\r\n        email: data.email,\r\n        password: data.password,\r\n        userType: data.userType,\r\n      };\r\n      \r\n      // Call real API\r\n      const response = await authAPI.register(registrationData);\r\n      \r\n      if (response.success) {\r\n        const user = {\r\n          id: response.data.user._id || response.data.user.id,\r\n          name: response.data.user.firstName + ' ' + response.data.user.lastName,\r\n          firstName: response.data.user.firstName,\r\n          lastName: response.data.user.lastName,\r\n          email: response.data.user.email,\r\n          userType: response.data.user.userType,\r\n          avatar: response.data.user.avatar,\r\n        };\r\n        \r\n        login(user, response.data.tokens.accessToken);\r\n        toast.success('Welcome to ConnectSpace! 🎉');\r\n        onClose();\r\n        signupForm.reset();\r\n        \r\n        // Call success callback if provided\r\n        if (onSuccess) {\r\n          onSuccess();\r\n        }\r\n      } else {\r\n        toast.error(response.message || 'Registration failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Registration error:', error);\r\n      \r\n      // Handle specific error cases\r\n      if (error.response?.status === 409) {\r\n        const errorData = error.response.data;\r\n        if (errorData.action === 'LOGIN_INSTEAD') {\r\n          toast.error('Account already exists! Please sign in instead.');\r\n          // Switch to login mode\r\n          setTimeout(() => {\r\n            setMode('login');\r\n            // Pre-fill email\r\n            loginForm.setValue('email', data.email);\r\n          }, 1500);\r\n          return;\r\n        }\r\n      }\r\n      \r\n      const errorMessage = error.response?.data?.message || 'Registration failed. Please try again.';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  const switchMode = (newMode) => {\r\n    setMode(newMode);\r\n    loginForm.reset();\r\n    signupForm.reset();\r\n    setPhoneLoginStep('phone');\r\n    setPhoneNumber('');\r\n    setOtp('');\r\n    setOtpTimer(0);\r\n  };\r\n\r\n  const handleSendOtp = async () => {\r\n    if (!phoneNumber || phoneNumber.length < 10) {\r\n      toast.error('Please enter a valid phone number');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Import the API service\r\n      const { authAPI } = await import('../../services/api');\r\n      \r\n      // Format phone number for Indian mobile numbers\r\n      const formattedPhone = phoneNumber.startsWith('+91') ? phoneNumber : `+91${phoneNumber}`;\r\n      \r\n      // Call real API to send OTP\r\n      const response = await authAPI.sendOTP(formattedPhone);\r\n      \r\n      if (response.success) {\r\n        toast.success('OTP sent successfully!');\r\n        setPhoneLoginStep('otp');\r\n        setOtpTimer(60); // 60 seconds countdown\r\n      } else {\r\n        toast.error(response.message || 'Failed to send OTP');\r\n      }\r\n    } catch (error) {\r\n      console.error('OTP send error:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to send OTP. Please try again.';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleVerifyOtp = async () => {\r\n    if (!otp || otp.length !== 6) {\r\n      toast.error('Please enter a valid 6-digit OTP');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Import the API service\r\n      const { authAPI } = await import('../../services/api');\r\n      \r\n      // Format phone number for Indian mobile numbers\r\n      const formattedPhone = phoneNumber.startsWith('+91') ? phoneNumber : `+91${phoneNumber}`;\r\n      \r\n      // Call real API to verify OTP\r\n      const response = await authAPI.verifyOTP(formattedPhone, otp);\r\n      \r\n      if (response.success) {\r\n        const user = {\r\n          id: response.data.user._id || response.data.user.id,\r\n          name: response.data.user.firstName + ' ' + response.data.user.lastName,\r\n          firstName: response.data.user.firstName,\r\n          lastName: response.data.user.lastName,\r\n          email: response.data.user.email,\r\n          phone: response.data.user.phone,\r\n          userType: response.data.user.userType,\r\n          avatar: response.data.user.avatar,\r\n        };\r\n        \r\n        login(user, response.data.tokens.accessToken);\r\n        toast.success('Login successful!');\r\n        onClose();\r\n        \r\n        // Reset phone login state\r\n        setPhoneLoginStep('phone');\r\n        setPhoneNumber('');\r\n        setOtp('');\r\n        setOtpTimer(0);\r\n        \r\n        // Call success callback if provided\r\n        if (onSuccess) {\r\n          onSuccess();\r\n        }\r\n      } else {\r\n        toast.error(response.message || 'Invalid OTP');\r\n      }\r\n    } catch (error) {\r\n      console.error('OTP verify error:', error);\r\n      const errorMessage = error.response?.data?.message || 'Invalid OTP. Please try again.';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleResendOtp = async () => {\r\n    if (otpTimer > 0) return;\r\n    \r\n    try {\r\n      // Import the API service\r\n      const { authAPI } = await import('../../services/api');\r\n      \r\n      // Format phone number for Indian mobile numbers\r\n      const formattedPhone = phoneNumber.startsWith('+91') ? phoneNumber : `+91${phoneNumber}`;\r\n      \r\n      // Call real API to resend OTP\r\n      const response = await authAPI.sendOTP(formattedPhone);\r\n      \r\n      if (response.success) {\r\n        toast.success('OTP resent successfully!');\r\n        setOtpTimer(60);\r\n      } else {\r\n        toast.error(response.message || 'Failed to resend OTP');\r\n      }\r\n    } catch (error) {\r\n      console.error('OTP resend error:', error);\r\n      const errorMessage = error.response?.data?.message || 'Failed to resend OTP. Please try again.';\r\n      toast.error(errorMessage);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center p-4 pt-20\"\r\n      onClick={onClose}\r\n    >\r\n      <div \r\n        className=\"bg-white rounded-xl shadow-2xl w-full max-w-lg relative max-h-[80vh] overflow-y-auto\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex justify-between items-center p-6 border-b\">\r\n          <h2 className=\"text-xl font-bold text-gray-900\">\r\n            {mode === 'login' ? 'Sign In' : mode === 'phone' ? 'Phone Login' : 'Create Account'}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-400 hover:text-gray-600 text-xl font-bold\"\r\n            aria-label=\"Close modal\"\r\n          >\r\n            ×\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tab Navigation */}\r\n        {(mode === 'login' || mode === 'phone') && (\r\n          <div className=\"flex border-b\">\r\n            <button\r\n              onClick={() => switchMode('login')}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                mode === 'login'\r\n                  ? 'border-primary-500 text-primary-600 bg-primary-50'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              Email Login\r\n            </button>\r\n            <button\r\n              onClick={() => switchMode('phone')}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${\r\n                mode === 'phone'\r\n                  ? 'border-primary-500 text-primary-600 bg-primary-50'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:bg-gray-50'\r\n              }`}\r\n            >\r\n              Phone Login\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n\r\n          {/* Login Form */}\r\n          {mode === 'login' && (\r\n            <form onSubmit={loginForm.handleSubmit(onLoginSubmit)} className=\"space-y-6\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Email Address\r\n                </label>\r\n                <input\r\n                  {...loginForm.register('email')}\r\n                  type=\"email\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                  placeholder=\"your.email@example.com\"\r\n                />\r\n                {loginForm.formState.errors.email && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {loginForm.formState.errors.email.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    {...loginForm.register('password')}\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    className=\"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                    placeholder=\"Enter your password\"\r\n                    style={{\r\n                      WebkitAppearance: 'none',\r\n                      MozAppearance: 'none',\r\n                      msRevealButton: 'none'\r\n                    }}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showPassword ? (\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                      </svg>\r\n                    ) : (\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\" />\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                {loginForm.formState.errors.password && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {loginForm.formState.errors.password.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loginForm.formState.isSubmitting}\r\n                className=\"btn btn-primary w-full\"\r\n              >\r\n                {loginForm.formState.isSubmitting ? (\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <div className=\"spinner mr-2\"></div>\r\n                    Signing In...\r\n                  </div>\r\n                ) : (\r\n                  'Sign In'\r\n                )}\r\n              </button>\r\n\r\n              {/* Social Login for Login */}\r\n              <div className=\"mt-6\">\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-0 flex items-center\">\r\n                    <div className=\"w-full border-t border-gray-300\"></div>\r\n                  </div>\r\n                  <div className=\"relative flex justify-center text-sm\">\r\n                    <span className=\"px-2 bg-white text-gray-500\">Or continue with</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-6 grid grid-cols-3 gap-3\">\r\n                  {/* Google Login */}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      toast.success('Google login coming soon!');\r\n                    }}\r\n                    className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                      <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n                      <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n                      <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n                      <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n                    </svg>\r\n                    <span className=\"sr-only\">Google</span>\r\n                  </button>\r\n\r\n                  {/* Facebook Login */}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      toast.success('Facebook login coming soon!');\r\n                    }}\r\n                    className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"#1877F2\" viewBox=\"0 0 24 24\">\r\n                      <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n                    </svg>\r\n                    <span className=\"sr-only\">Facebook</span>\r\n                  </button>\r\n\r\n                  {/* Apple Login */}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      toast.success('Apple login coming soon!');\r\n                    }}\r\n                    className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path d=\"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701\"/>\r\n                    </svg>\r\n                    <span className=\"sr-only\">Apple</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          )}\r\n\r\n          {/* Phone Login Form */}\r\n          {mode === 'phone' && (\r\n            <div className=\"space-y-6\">\r\n              {phoneLoginStep === 'phone' ? (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Phone Number\r\n                    </label>\r\n                    <div className=\"relative\">\r\n                      <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                        <span className=\"text-gray-500 text-sm\">+91</span>\r\n                      </div>\r\n                      <input\r\n                        type=\"tel\"\r\n                        value={phoneNumber}\r\n                        onChange={(e) => setPhoneNumber(e.target.value.replace(/\\D/g, '').slice(0, 10))}\r\n                        className=\"w-full pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                        placeholder=\"9876543210\"\r\n                        maxLength=\"10\"\r\n                      />\r\n                    </div>\r\n                    <p className=\"mt-1 text-xs text-gray-500\">\r\n                      We'll send you a 6-digit verification code\r\n                    </p>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleSendOtp}\r\n                    disabled={!phoneNumber || phoneNumber.length !== 10}\r\n                    className=\"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    Send OTP\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Enter OTP\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={otp}\r\n                      onChange={(e) => setOtp(e.target.value.replace(/\\D/g, '').slice(0, 6))}\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white text-center text-lg tracking-widest\"\r\n                      placeholder=\"000000\"\r\n                      maxLength=\"6\"\r\n                    />\r\n                    <div className=\"mt-2 flex items-center justify-between text-sm\">\r\n                      <p className=\"text-gray-600\">\r\n                        OTP sent to +91 {phoneNumber}\r\n                      </p>\r\n                      <button\r\n                        onClick={() => setPhoneLoginStep('phone')}\r\n                        className=\"text-primary-600 hover:text-primary-700 font-medium\"\r\n                      >\r\n                        Change\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleVerifyOtp}\r\n                    disabled={!otp || otp.length !== 6}\r\n                    className=\"btn btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    Verify OTP\r\n                  </button>\r\n\r\n                  <div className=\"text-center\">\r\n                    {otpTimer > 0 ? (\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        Resend OTP in {otpTimer} seconds\r\n                      </p>\r\n                    ) : (\r\n                      <button\r\n                        onClick={handleResendOtp}\r\n                        className=\"text-sm text-primary-600 hover:text-primary-700 font-medium\"\r\n                      >\r\n                        Resend OTP\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Signup Form */}\r\n          {mode === 'signup' && (\r\n            <form className=\"space-y-5\" onSubmit={signupForm.handleSubmit(onSignupSubmit)}>\r\n              {/* Name Fields Row */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    First Name\r\n                  </label>\r\n                  <input\r\n                    {...signupForm.register('firstName')}\r\n                    type=\"text\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                    placeholder=\"John\"\r\n                  />\r\n                  {signupForm.formState.errors.firstName && (\r\n                    <p className=\"mt-1 text-xs text-red-600\">\r\n                      {signupForm.formState.errors.firstName.message}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Last Name\r\n                  </label>\r\n                  <input\r\n                    {...signupForm.register('lastName')}\r\n                    type=\"text\"\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                    placeholder=\"Doe\"\r\n                  />\r\n                  {signupForm.formState.errors.lastName && (\r\n                    <p className=\"mt-1 text-xs text-red-600\">\r\n                      {signupForm.formState.errors.lastName.message}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Email Address\r\n                </label>\r\n                <input\r\n                  {...signupForm.register('email')}\r\n                  type=\"email\"\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                  placeholder=\"your.email@example.com\"\r\n                />\r\n                {signupForm.formState.errors.email && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {signupForm.formState.errors.email.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Password Field */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Create Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    {...signupForm.register('password')}\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    className=\"w-full px-3 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                    placeholder=\"Must be 8+ characters with uppercase, lowercase & number\"\r\n                    style={{\r\n                      WebkitAppearance: 'none',\r\n                      MozAppearance: 'none',\r\n                      msRevealButton: 'none'\r\n                    }}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showPassword ? (\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                      </svg>\r\n                    ) : (\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\" />\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                {signupForm.formState.errors.password && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {signupForm.formState.errors.password.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Confirm Password Field */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Confirm Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    {...signupForm.register('confirmPassword')}\r\n                    type={showConfirmPassword ? 'text' : 'password'}\r\n                    className=\"w-full px-3 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-gray-900 bg-white\"\r\n                    placeholder=\"Re-enter your password\"\r\n                    style={{\r\n                      WebkitAppearance: 'none',\r\n                      MozAppearance: 'none',\r\n                      msRevealButton: 'none'\r\n                    }}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\r\n                  >\r\n                    {showConfirmPassword ? (\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 616 0z\" />\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\r\n                      </svg>\r\n                    ) : (\r\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88\" />\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                </div>\r\n                {signupForm.formState.errors.confirmPassword && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {signupForm.formState.errors.confirmPassword.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* User Type Selection */}\r\n              <div className=\"mb-5\">\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  I am a...\r\n                </label>\r\n                <div className=\"grid grid-cols-3 gap-3\">\r\n                  <label className={`relative flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-primary-500 transition-colors ${\r\n                    signupForm.watch('userType') === 'tenant' ? 'border-primary-500 bg-primary-50' : 'border-gray-300'\r\n                  }`}>\r\n                    <input\r\n                      {...signupForm.register('userType')}\r\n                      type=\"radio\"\r\n                      value=\"tenant\"\r\n                      className=\"sr-only\"\r\n                    />\r\n                    <div className=\"flex-1 text-center\">\r\n                      <div className=\"text-lg mb-1\">🏠</div>\r\n                      <div className=\"font-medium text-gray-900\">Tenant</div>\r\n                      <div className=\"text-xs text-gray-500\">Looking to rent</div>\r\n                    </div>\r\n                    {signupForm.watch('userType') === 'tenant' && (\r\n                      <div className=\"absolute top-2 right-2 w-4 h-4 bg-primary-600 rounded-full flex items-center justify-center\">\r\n                        <div className=\"w-1.5 h-1.5 bg-white rounded-full\"></div>\r\n                      </div>\r\n                    )}\r\n                  </label>\r\n                  \r\n                  <label className={`relative flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-primary-500 transition-colors ${\r\n                    signupForm.watch('userType') === 'landlord' ? 'border-primary-500 bg-primary-50' : 'border-gray-300'\r\n                  }`}>\r\n                    <input\r\n                      {...signupForm.register('userType')}\r\n                      type=\"radio\"\r\n                      value=\"landlord\"\r\n                      className=\"sr-only\"\r\n                    />\r\n                    <div className=\"flex-1 text-center\">\r\n                      <div className=\"text-lg mb-1\">🏢</div>\r\n                      <div className=\"font-medium text-gray-900\">Owner</div>\r\n                      <div className=\"text-xs text-gray-500\">Property owner</div>\r\n                    </div>\r\n                    {signupForm.watch('userType') === 'landlord' && (\r\n                      <div className=\"absolute top-2 right-2 w-4 h-4 bg-primary-600 rounded-full flex items-center justify-center\">\r\n                        <div className=\"w-1.5 h-1.5 bg-white rounded-full\"></div>\r\n                      </div>\r\n                    )}\r\n                  </label>\r\n\r\n                  <label className={`relative flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 focus-within:ring-2 focus-within:ring-primary-500 transition-colors ${\r\n                    signupForm.watch('userType') === 'agent' ? 'border-primary-500 bg-primary-50' : 'border-gray-300'\r\n                  }`}>\r\n                    <input\r\n                      {...signupForm.register('userType')}\r\n                      type=\"radio\"\r\n                      value=\"agent\"\r\n                      className=\"sr-only\"\r\n                    />\r\n                    <div className=\"flex-1 text-center\">\r\n                      <div className=\"text-lg mb-1\">🤝</div>\r\n                      <div className=\"font-medium text-gray-900\">Agent</div>\r\n                      <div className=\"text-xs text-gray-500\">Real estate agent</div>\r\n                    </div>\r\n                    {signupForm.watch('userType') === 'agent' && (\r\n                      <div className=\"absolute top-2 right-2 w-4 h-4 bg-primary-600 rounded-full flex items-center justify-center\">\r\n                        <div className=\"w-1.5 h-1.5 bg-white rounded-full\"></div>\r\n                      </div>\r\n                    )}\r\n                  </label>\r\n                </div>\r\n                {signupForm.formState.errors.userType && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {signupForm.formState.errors.userType.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Terms and Conditions */}\r\n              <div className=\"mb-6\">\r\n                <label className=\"flex items-start\">\r\n                  <input\r\n                    {...signupForm.register('terms')}\r\n                    type=\"checkbox\"\r\n                    className=\"mt-1 mr-3 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n                  />\r\n                  <span className=\"text-sm text-gray-600\">\r\n                    I agree to ConnectSpace's{' '}\r\n                    {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                    <a href=\"#\" className=\"text-primary-600 hover:text-primary-700 underline\" onClick={(e) => e.preventDefault()}>\r\n                      Terms of Service\r\n                    </a>{' '}\r\n                    and{' '}\r\n                    {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                    <a href=\"#\" className=\"text-primary-600 hover:text-primary-700 underline\" onClick={(e) => e.preventDefault()}>\r\n                      Privacy Policy\r\n                    </a>\r\n                  </span>\r\n                </label>\r\n                {signupForm.formState.errors.terms && (\r\n                  <p className=\"mt-1 text-sm text-red-600\">\r\n                    {signupForm.formState.errors.terms.message}\r\n                  </p>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={signupForm.formState.isSubmitting}\r\n                className=\"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white font-semibold py-3 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition duration-200\"\r\n              >\r\n                {signupForm.formState.isSubmitting ? (\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3\"></div>\r\n                    Creating your account...\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <span>Create Account</span>\r\n                    <svg className=\"w-5 h-5 ml-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\r\n                    </svg>\r\n                  </div>\r\n                )}\r\n              </button>\r\n\r\n              {/* Social Login for Signup */}\r\n              <div className=\"mt-6\">\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-0 flex items-center\">\r\n                    <div className=\"w-full border-t border-gray-300\"></div>\r\n                  </div>\r\n                  <div className=\"relative flex justify-center text-sm\">\r\n                    <span className=\"px-2 bg-white text-gray-500\">Or sign up with</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-6 grid grid-cols-3 gap-3\">\r\n                  {/* Google Signup */}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      toast.success('Google signup coming soon!');\r\n                    }}\r\n                    className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                      <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n                      <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n                      <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n                      <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n                    </svg>\r\n                    <span className=\"sr-only\">Google</span>\r\n                  </button>\r\n\r\n                  {/* Facebook Signup */}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      toast.success('Facebook signup coming soon!');\r\n                    }}\r\n                    className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"#1877F2\" viewBox=\"0 0 24 24\">\r\n                      <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/>\r\n                    </svg>\r\n                    <span className=\"sr-only\">Facebook</span>\r\n                  </button>\r\n\r\n                  {/* Apple Signup */}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      toast.success('Apple signup coming soon!');\r\n                    }}\r\n                    className=\"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors\"\r\n                  >\r\n                    <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path d=\"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701\"/>\r\n                    </svg>\r\n                    <span className=\"sr-only\">Apple</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n            </form>\r\n          )}\r\n\r\n        </div>\r\n        \r\n        {/* Footer with mode toggle */}\r\n        <div className=\"px-6 py-4 bg-gray-50 border-t\">\r\n          <div className=\"text-center text-sm\">\r\n            {mode === 'login' || mode === 'phone' ? (\r\n              <span className=\"text-gray-600\">\r\n                Don't have an account?{' '}\r\n                <button\r\n                  onClick={() => switchMode('signup')}\r\n                  className=\"text-primary-600 hover:text-primary-700 font-medium\"\r\n                >\r\n                  Sign up\r\n                </button>\r\n              </span>\r\n            ) : (\r\n              <span className=\"text-gray-600\">\r\n                Already have an account?{' '}\r\n                <button\r\n                  onClick={() => switchMode('login')}\r\n                  className=\"text-primary-600 hover:text-primary-700 font-medium\"\r\n                >\r\n                  Sign in\r\n                </button>\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}